animcurve_channel_new Cette fonction peut être utilisée pour créer une nouvelle structure de canal de courbe d'animation. Une structure de canal a les variables suivantes: Nom de variable Type de données Description Nom chaîne de caractères C'est le nom de la chaîne. taper constant Ce sera l'une des constantes animcurvetype_linear - pour l'interpolation linéaire entre points - ou animcurvetype_catmullrom - pour une interpolation "douce" entre les points par interpolation catmull-rom. itérations entier Si le canal utilise l'interpolation catmull-rom ("smooth"), cela contient le nombre de points générés pour chaque segment de la courbe (notez que ces points supplémentaires sont internes à la fonction et utilisés uniquement pour les calculs d' runtime Si le canal utilise l'interpolation linéaire, cette valeur existera toujours mais peut être ignorée car elle n'a aucune incidence sur la façon dont la courbe est interpolée. points pointeur de tableau Il s'agit d'un tableau, où chaque élément du tableau est une structure de points. Par défaut, lorsque vous créez une nouvelle structure de canal, la variable "nom" sera une chaîne vide, le "type" sera animcurvetype_linear et les "itérations" seront 16. Toutes ces variables peuvent être réglées sur les valeurs dont vous avez besoin (notez que la valeur "itérations" n'a aucun effet sur les types de courbes linéaires). Une fois créé, vous devez ajouter des points à la courbe, ce qui se fait en ajoutant différentes structures de points au tableau "points". Ces structures de points peuvent être créées à l'aide de la fonction animcurve_point_new() et contenez les variables suivantes: Nom de variable Type de données Description posx réel La position dans le temps (normalisée de 0 à 1) du point. évaluer réel La valeur du point. Syntaxe:animcurve_channel_new(); Retour:Struct Reference Exemple:my_curve = animcurve_create(); my_curve.name = "My_Curve"; var _channels = array_create(1); _channels[0] = animcurve_channel_new(); _channels[0].name = "alpha"; _channels[0].type = animcurvetype_catmullrom;    _channels[0].iterations = 8; var _points = array_create(3); _points[0] = animcurve_point_new(); _points[0].posx = 0; _points[0].value = 0; _points[1] = animcurve_point_new(); _points[1].posx = 0.5; _points[1].value
    = 1; _points[2] = animcurve_point_new(); _points[2].posx = 1; _points[2].value = 0; _channels[0].points = _points; my_curve.channels = _channels; Le code ci-dessus crée une nouvelle structure de courbe d'animation et la stocke dans la variable "my_curve". Cette structure est ensuite remplie avec un nom et un tableau de canaux. Le tableau de canaux contient un seul canal avec trois points.  Retour: Courbes d'animation Suivant:animcurve_point_new © Copyright YoYo Games Ltd. 2021 Tous droits réservés
  
  
  

